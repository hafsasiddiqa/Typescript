"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.onStdout = void 0;
const kleur_1 = __importDefault(require("kleur"));
const utils_1 = require("../utils");
function onStdout(buffer) {
    // break the buffer into an array of strings
    const output = `${buffer}`
        .trim()
        .replace('/{2,}/g', '\n')
        .replace('/\t{1,}/g', '\n')
        .split('\n');
    // eliminate upload info
    const files = output.filter(f => !(f === '' || f === './'));
    files.forEach(name => (0, utils_1.log)(`${kleur_1.default.yellow('uploading')}  ${name}`));
}
exports.onStdout = onStdout;
